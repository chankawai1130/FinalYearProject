<!-- Required meta tags -->
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

<!-- Bootstrap CSS -->
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
    integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

<style type="text/css">
    .topnav {
        overflow: hidden;
        background-color: #f0f0f0;
        width: 100%;
        justify-content: center;
        margin: 0 auto;
        padding-left: 110px;
        border-radius: 0px;
        position: static;
    }

    .topnav a {
        float: left;
        color: #000;
        text-align: center;
        padding: 14px 16px;
        text-decoration: none;
        font-size: 17px;
    }

    .topnav a:hover:not(.active) {
        background-color: rgb(218, 218, 218);
        color: #000;
    }

    .topnav a:hover,
    .topnav a:focus {
        text-decoration: underline;
    }

    .topnav a.active {
        /* background-color:#697174; */
        /* background-color:#717A7D; */
        background-color: #8AA0AB;
        color: white;
    }

    body {
        background: #e0ded6;
        font-family: "Helvetica Neue", Helvetica, Arial;
    }

    table {
        border-collapse: collapse;
        width: 100%;
    }

    th,
    td {
        text-align: left;
        padding: 8px;
        overflow: hidden;
    }

    /* 
    tr:nth-child(even) {
        background-color: #F8F8F8;
    } */

    .modalBtn {
        background-color: #4CAF50;
        color: white;
        padding: 14px 20px;
        margin: 8px 0;
        border: none;
        cursor: pointer;
        width: 100%;
        opacity: 0.9;
    }

    .modalBtn:hover {
        opacity: 1;
    }

    .addBtn {
        /* background: #A3B82B; */
        background: #C4C491;
        width: 25%;
        margin-left: 325px;
        padding: 10px 0px;
        border-radius: 2px;
    }

    .addBtn:focus {
        background: #C4C491;
    }

    .confirmbtn:focus,
    .deletebtn:focus,
    .arrangeInterviewbtn:focus {
        color: black;
    }

    .cancelbtn,
    .deletebtn,
    .confirmbtn,
    .arrangeInterviewbtn {
        float: left;
        width: 50%;
    }

    .arrangeInterviewbtn {
        background-color: #ACA394;
    }

    .cancelbtn {
        background-color: #ccc;
        color: black;
    }

    .deletebtn {
        background-color: #F16C6D;
    }

    .confirmbtn {
        background-color: #869A85;
    }

    .modal-container {
        padding: 16px;
        text-align: center;
    }

    .modal {
        display: none;
        position: fixed;
        z-index: 3;
        left: 0;
        top: 0;
        width: 100%;
        height: 100%;
        overflow: auto;
        background-color: rgba(8, 8, 8, 0.5);
        padding-top: 50px;
    }

    .modal-content {
        background-color: #fefefe;
        margin: 5% auto 15% auto;
        border: 1px solid #888;
        width: 80%;
        font-family: "Helvetica Neue", Helvetica, Arial;
    }

    .clearfix::after {
        content: "";
        clear: both;
        display: table;
    }

    @media screen and (max-width: 300px) {

        .cancelbtn,
        .deletebtn,
        .confirmbtn,
        .arrangeInterviewbtn {
            width: 100%;
        }
    }

    .fa-calendar {
        /* color: #C0C0C0; */
        color: #7F7F7F;
    }

    .fa-calendar:hover {
        color: #666666;
    }

    .separator {
        content: '';
        display: inline-block;
        background: #e0dfdf;
        margin-left: 16px;
        margin-right: 4px;
        height: 38px;
        width: 1px;
        vertical-align: top;
    }

    #selectDateBtn {
        display: inline;
        width: 20px;
        height: 20px;
        border: 0px;
        background: #FFFFFF;
        padding: 0px;
        margin-right: 4px;
        outline: none !important;
        box-shadow: none !important;
    }

    #selectDateBtn:hover,
    #selectDateBtn:focus {
        border: 0px;
    }

    #interviewDate {
        background: #FFFFFF;
        width: 206px;
        border-radius: 4px;
        border: 1px solid #e0dfdf;
        margin-top: 15px;
        padding-top: 0px;
        margin-left: 0px;
        padding-right: 0px;
    }

    #searchField {
        margin-right: 5px;
        border-radius: 2px;
        width: 270px;
    }

    #searchBtn {
        background-color: #FEFAFF;
        color: #666666;
        border-radius: 2px;
        width: 70px;
        font-size: 17px;
        padding: 0px !important;
    }

    #searchBtn:hover,
    :focus {
        background-color: #F9F5FA;
    }

    #sendEmail:hover {
        background-color: #F9F5FA;
    }

    #sendEmail {
        display: none;
        background-color: #FEFAFF;
        color: #666666;
        border-radius: 2px;
        width: 95px;
        margin-bottom: 10px;
        margin-right: 5px;
        font-size: 14px;
        padding: 4px 9px 4px;
    }

    #scheduleInterview {
        display: none;
        background-color: #FEFAFF;
        color: #666666;
        border-radius: 2px;
        width: 145px;
        margin-bottom: 10px;
        font-size: 14px;
        padding: 4px 9px 4px;
    }

    #scheduleInterview:hover,
    :focus {
        background-color: #F9F5FA;
    }

    #interviewBtn {
        width: 150px;
        background-color: #ACA394;
        /* border-color: #A3A7A6; */
        border-color: #ACA394;
        color: #fff;
        font-weight: bold;
        margin-bottom: 5px;
        opacity: 0.7;
    }

    #approveBtn {
        width: 150px;
        /* background-color: #38BA7D; */
        /* background-color: #66A182; */
        background-color: #869A85;
        border-color: #869A85;
        color: #fff;
        font-weight: bold;
        margin-bottom: 5px;
        opacity: 0.7;
    }

    #disapproveBtn {
        width: 150px;
        font-weight: bold;
        /* background-color: #F34541; */
        background-color: #E97D7D;
        border-color: #E97D7D;
        color: #fff;
        opacity: 0.7;
    }

    #disapproveBtn:hover {
        opacity: 0.8;
    }

    #approveBtn:hover {
        opacity: 0.8;
    }

    #interviewBtn:hover {
        opacity: 0.8;
    }

    #interviewContainer {
        width: 150px;
        /* border-color: #A3A7A6; */
        background-color: #fff;
        border-color: #a39c92;
        color: #857f77;
        font-weight: lighter;
        margin-bottom: 5px;
        opacity: 0.9;
    }

    #rejectedContainer {
        margin-right: 30px;
        padding: 6px 13px;
        text-align: center;
        display: inline;
        border-radius: 20px;
        background-color: #FAD5D5;
        color: #d15159;
        font-weight: 500;
        opacity: 0.9;
        text-shadow:
            0px 0px 3px rgba(255, 255, 255, 0.3),
            0px 0px 0px rgba(8, 8, 8, 0);
    }

    #acceptedContainer {
        margin-top: 0;
        margin-bottom: 0;
        padding: 6px 13px;
        text-align: center;
        display: inline;
        border-radius: 20px;
        background-color: #bac9be;
        color: #3a4240;
        font-weight: 500;
        opacity: 0.8;
        text-shadow:
            0px 0px 3px rgba(255, 255, 255, 0.3),
            0px 0px 0px rgba(8, 8, 8, 0);
    }
</style>

<div class="wrapper" style="width: 100%;">
    <div class="container-fluid no-gutters"
        style="position: static; text-align: right; margin: 8px 0px; font-size: 14px;">

        <% if (req.session.role !=undefined) {%>
            Logged in as <b>
                <%= req.session.user.Surname%>
                    <%= req.session.user.GivenName%>
            </b>&nbsp; |&nbsp;
            <a style="color: black; padding: 5px 50px 25px 0px; color: #71838C" href="/user/logout">Logout</a>
            <%}%>

    </div>
</div>

<div class="wrapper" style="width: 100%; margin: 0 auto;">
    <div class="container-fluid" style="justify-content: center; 
    padding: 27px 15px 12px 115px; background: #fff;
    border-radius: 0px; position: static;">
        <h2 style="font-size: 40px;
            font-weight: bold; color:#6A635A">HKBU Student Admission System</h2>
    </div>
</div>

<div class="topnav">
    <a class="active" href="/user/professor/applications/all">Applications</a>
    <a href="/user/professor/profile">Profile</a>
</div>

<div class="wrapper" style="width: 100%; margin: 0 auto;">
    <div class="container-fluid"
        style="justify-content: center; height: 35px; font-size: 17px;
background: #fff; border-radius: 0px; position: static; color: #888888; padding-top: 6px; padding-bottom: 5px; padding-left: 125px;">
        <i class="fa fa-home" aria-hidden="true"></i>&nbsp;&nbsp;&nbsp;<i class="fa fa-angle-right"
            aria-hidden="true"></i>&nbsp;&nbsp;&nbsp;<span>Applications</span>&nbsp;&nbsp;
    </div>
</div>
<br>
<div class="wrapper" style="width: 1310px; margin: 0 auto;">
    <div class="container-fluid" style="justify-content: center; 
    margin: 0 auto;  padding: 30px 15px 25px; background: #fff;
    border-radius: 0px; position: static;">

        <div style="display: flex;">
            <div class="main-content" style="margin-left: 40px;">
                <h3 style="color: #333333;
            font-size: 32px;
            font-weight: bold;
            margin-bottom: 20px;">Applications
                </h3>

                <div>
                    <div style="margin-bottom: 10px; float: left">
                        <span style="padding-left: 3px; font-weight: 600;"><a href="/user/professor/applications/all"
                                style="color:#6d8c9c;"> All
                            </a></span><span style="color: #9b9696;">(<%= allNum%>) |</span>
                        <span style="padding-left: 3px; font-weight: 600;"><a href="/user/professor/accepted"
                                style="color:#6d8c9c;"> Accepted
                            </a></span><span style="color: #9b9696;">(<%= acceptedNum%>) |</span>
                        <span style="color: #333333;"><b>Rejected </b></span><span style="color: #9b9696;">(<%=
                                rejectedNum%>)
                                |</span>
                    </div>

                    <div style="float: right;">
                        <div class="form-inline">
                            <input type="text" id="searchField" class="form-control input-lg"
                                placeholder="Search applications">
                            <button id="searchBtn" class="form-control btn-lg">Search</button>
                        </div>
                    </div>
                </div>

                <div class="row" style="margin-left: 0px; clear: both">
                    <!-- send email button -->
                    <button class="form-control btn-lg" id="sendEmail">Send Email</button>
                    <!-- select interview time slot button -->
                    <!-- <button class="form-control btn-lg" id="scheduleInterview"><i class="fa fa-calendar-plus-o" aria-hidden="true"></i> Schedule Interview</button> -->
                    <p id="blank"><br></p>
                </div>

                <table style="width: 1190px;">

                    <!-- table header -->
                    <tr style="border-bottom: 1px solid #f1f1f1; color: #666666;">
                        <td><input type="checkbox" id="select-all"></td>
                        <td>Application No.</td>
                        <td>Applicant Name</td>
                        <td>Applicant Email</td>
                        <td>Status</td>
                        <td>Action</td>
                    </tr>
                    <!-- end -->

                    <% applications.forEach( function(model) { %>

                        <% if ( model.program1 !="" && model.programmeStatus1=="Unsuccessful" ) {%>
                            <!-- 1st Programme Preference -->
                            <tr style="height: 70px; overflow: hidden; border-bottom: 1px solid #f1f1f1;">
                                <td><input type="checkbox" name="select-applications" onclick="showContent();"></td>
                                <td><a href="/user/admin/applications/details/<%= model.id%>"
                                        style="color:#4677B6; font-weight: 600;">
                                        <%= model.idCode%>
                                    </a>
                                </td>
                                <td>
                                    <%= model.Surname%>
                                        <%= model.GivenName%>
                                </td>
                                <td width="22%" style="color:#3D70B3;">
                                    <%= model.Email %>
                                </td>
                                <td width="31%" style="padding-right: 30px;">
                                    <%= model.program1 %>
                                </td>

                                <td width="17%">
                                    <% if (model.programmeStatus1=='Under Consideration' ) { %>

                                        <% if (model.haveInterview2=='no' ) { %>
                                            <!-- interview button -->
                                            <button class="form-control" id="interviewBtn"
                                                onclick="document.getElementById('interviewModal2').style.display='block'"><i
                                                    class="fa fa-comments" aria-hidden="true"></i>
                                                INTERVIEW</button>
                                            <% } else { %>
                                                <button class="form-control" disabled id="interviewContainer"><i
                                                        class="fa fa-comments" aria-hidden="true"></i>
                                                    INTERVIEW</button>
                                                <% } %>

                                                    <!-- confirm box -->
                                                    <div id="interviewModal2" class="modal">
                                                        <div class="modal-content">
                                                            <div class="modal-container">
                                                                <h1>Arrange an Interview?</h1>
                                                                <h4 style="margin-bottom: 20px;">(Application No.: <%=
                                                                        model.idCode%>)
                                                                </h4>
                                                                <p>Are you sure you want to have an interview with the
                                                                    candidate?
                                                                </p>
                                                                <div class="clearfix">
                                                                    <button type="button" class="cancelbtn modalBtn"
                                                                        onclick="document.getElementById('interviewModal2').style.display='none'">
                                                                        Cancel</button>
                                                                    <button type="button"
                                                                        class="arrangeInterviewbtn modalBtn"
                                                                        onclick="interviewCandidate2('<%= model.id%>')">
                                                                        Yes, have an interview</button>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <!-- end -->

                                                    <!-- accept button -->
                                                    <button class="form-control" id="approveBtn"
                                                        onclick="document.getElementById('approveModal2').style.display='block'"><i
                                                            class="fa fa-check" aria-hidden="true"></i> ACCEPT</button>

                                                    <!-- confirm box -->
                                                    <div id="approveModal2" class="modal">
                                                        <div class="modal-content">
                                                            <div class="modal-container">
                                                                <!-- modal-header -->
                                                                <h1>Approve Application?</h1>
                                                                <h4 style="margin-bottom: 20px;">(Application No.: <%=
                                                                        model.idCode%>)
                                                                </h4>
                                                                <!-- modal-body -->
                                                                <p>Are you sure you want to accept this application?</p>
                                                                <div class="clearfix">
                                                                    <button type="button" class="cancelbtn modalBtn"
                                                                        onclick="document.getElementById('approveModal2').style.display='none'">
                                                                        Cancel</button>
                                                                    <button type="button" class="confirmbtn modalBtn"
                                                                        onclick="acceptApplication2('<%= model.id%>')">Accept</button>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <!-- end -->

                                                    <!-- reject button -->
                                                    <button class="form-control" id="disapproveBtn"
                                                        onclick="document.getElementById('disapproveModal2').style.display='block'"><i
                                                            class="fa fa-times" aria-hidden="true"></i> REJECT</button>

                                                    <!-- confirm box -->
                                                    <div id="disapproveModal2" class="modal">
                                                        <div class="modal-content">
                                                            <div class="modal-container">
                                                                <h1>Disapprove Application?</h1>
                                                                <h4 style="margin-bottom: 20px;">(Application No.: <%=
                                                                        model.idCode%>)
                                                                </h4>
                                                                <p>Are you sure you want to reject this application?</p>
                                                                <div class="clearfix">
                                                                    <button type="button" class="cancelbtn modalBtn"
                                                                        onclick="document.getElementById('disapproveModal2').style.display='none'">
                                                                        Cancel</button>
                                                                    <button type="button" class="deletebtn modalBtn"
                                                                        onclick="rejectApplication2('<%= model.id%>')">
                                                                        Reject</button>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <!-- end -->
                                                    <% } %>

                                                        <% if (model.programmeStatus1=='Offered' ||
                                                            model.programmeStatus1=='Offer Accepted' ) { %>
                                                            <div class="container" id="acceptedContainer"><span>
                                                                    accepted
                                                                </span></div>
                                                            <% } %>

                                                                <% if (model.programmeStatus1=='Unsuccessful' ) { %>
                                                                    <div class="container" id="rejectedContainer"><span>
                                                                            rejected
                                                                        </span></div>
                                                                    <% } %>
                                </td>
                            </tr>
                            <% } %>

                                <% if ( model.program2 !="" && model.programmeStatus2=="Unsuccessful" ) {%>
                                    <!-- 2nd Programme Preference -->
                                    <tr style="height: 70px; overflow: hidden; border-bottom: 1px solid #f1f1f1;">
                                        <td><input type="checkbox" name="select-applications" onclick="showContent();">
                                        </td>
                                        <td><a href="#" style="color:#4677B6; font-weight: 600;">
                                                <%= model.idCode%>
                                            </a>
                                        </td>
                                        <td>
                                            <%= model.Surname%>
                                                <%= model.GivenName%>
                                        </td>
                                        <td width="22%" style="color:#3D70B3;">
                                            <%= model.Email %>
                                        </td>
                                        <td width="31%" style="padding-right: 30px;">
                                            <%= model.program2 %>
                                        </td>

                                        <td width="17%">
                                            <% if (model.programmeStatus2=='Under Consideration' ) { %>

                                                <% if (model.haveInterview2=='no' ) { %>
                                                    <!-- interview button -->
                                                    <button class="form-control" id="interviewBtn"
                                                        onclick="document.getElementById('interviewModal2').style.display='block'"><i
                                                            class="fa fa-comments" aria-hidden="true"></i>
                                                        INTERVIEW</button>
                                                    <% } else { %>
                                                        <button class="form-control" disabled id="interviewContainer"><i
                                                                class="fa fa-comments" aria-hidden="true"></i>
                                                            INTERVIEW</button>
                                                        <% } %>

                                                            <!-- confirm box -->
                                                            <div id="interviewModal2" class="modal">
                                                                <div class="modal-content">
                                                                    <div class="modal-container">
                                                                        <h1>Arrange an Interview?</h1>
                                                                        <h4 style="margin-bottom: 20px;">(Application
                                                                            No.: <%= model.idCode%>)
                                                                        </h4>
                                                                        <p>Are you sure you want to have an interview
                                                                            with the
                                                                            candidate?
                                                                        </p>
                                                                        <div class="clearfix">
                                                                            <button type="button"
                                                                                class="cancelbtn modalBtn"
                                                                                onclick="document.getElementById('interviewModal2').style.display='none'">
                                                                                Cancel</button>
                                                                            <button type="button"
                                                                                class="arrangeInterviewbtn modalBtn"
                                                                                onclick="interviewCandidate2('<%= model.id%>')">
                                                                                Yes, have an interview</button>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <!-- end -->

                                                            <!-- accept button -->
                                                            <button class="form-control" id="approveBtn"
                                                                onclick="document.getElementById('approveModal2').style.display='block'"><i
                                                                    class="fa fa-check" aria-hidden="true"></i>
                                                                ACCEPT</button>

                                                            <!-- confirm box -->
                                                            <div id="approveModal2" class="modal">
                                                                <div class="modal-content">
                                                                    <div class="modal-container">
                                                                        <!-- modal-header -->
                                                                        <h1>Approve Application?</h1>
                                                                        <h4 style="margin-bottom: 20px;">(Application
                                                                            No.: <%= model.idCode%>)
                                                                        </h4>
                                                                        <!-- modal-body -->
                                                                        <p>Are you sure you want to accept this
                                                                            application?</p>
                                                                        <div class="clearfix">
                                                                            <button type="button"
                                                                                class="cancelbtn modalBtn"
                                                                                onclick="document.getElementById('approveModal2').style.display='none'">
                                                                                Cancel</button>
                                                                            <button type="button"
                                                                                class="confirmbtn modalBtn"
                                                                                onclick="acceptApplication2('<%= model.id%>')">Accept</button>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <!-- end -->

                                                            <!-- reject button -->
                                                            <button class="form-control" id="disapproveBtn"
                                                                onclick="document.getElementById('disapproveModal2').style.display='block'"><i
                                                                    class="fa fa-times" aria-hidden="true"></i>
                                                                REJECT</button>

                                                            <!-- confirm box -->
                                                            <div id="disapproveModal2" class="modal">
                                                                <div class="modal-content">
                                                                    <div class="modal-container">
                                                                        <h1>Disapprove Application?</h1>
                                                                        <h4 style="margin-bottom: 20px;">(Application
                                                                            No.: <%= model.idCode%>)
                                                                        </h4>
                                                                        <p>Are you sure you want to reject this
                                                                            application?</p>
                                                                        <div class="clearfix">
                                                                            <button type="button"
                                                                                class="cancelbtn modalBtn"
                                                                                onclick="document.getElementById('disapproveModal2').style.display='none'">
                                                                                Cancel</button>
                                                                            <button type="button"
                                                                                class="deletebtn modalBtn"
                                                                                onclick="rejectApplication2('<%= model.id%>')">
                                                                                Reject</button>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <!-- end -->
                                                            <% } %>

                                                                <% if (model.programmeStatus2=='Offered' ||
                                                                    model.programmeStatus2=='Offer Accepted' ) { %>
                                                                    <div class="container" id="acceptedContainer"><span>
                                                                            accepted
                                                                        </span></div>
                                                                    <% } %>

                                                                        <% if (model.programmeStatus2=='Unsuccessful' )
                                                                            { %>
                                                                            <div class="container"
                                                                                id="rejectedContainer"><span>
                                                                                    rejected
                                                                                </span></div>
                                                                            <% } %>
                                        </td>
                                    </tr>
                                    <% } %>

                                        <% if ( model.program3 !="" && model.programmeStatus3=="Unsuccessful" ) {%>
                                            <!-- 3rd Programme Preference -->
                                            <tr
                                                style="height: 70px; overflow: hidden; border-bottom: 1px solid #f1f1f1;">
                                                <td><input type="checkbox" name="select-applications"
                                                        onclick="showContent();">
                                                </td>
                                                <td><a href="#" style="color:#4677B6; font-weight: 600;">
                                                        <%= model.idCode%>
                                                    </a>
                                                </td>
                                                <td>
                                                    <%= model.Surname%>
                                                        <%= model.GivenName%>
                                                </td>
                                                <td width="22%" style="color:#3D70B3;">
                                                    <%= model.Email %>
                                                </td>
                                                <td width="31%" style="padding-right: 30px;">
                                                    <%= model.program3 %>
                                                </td>

                                                <td width="17%">
                                                    <% if (model.programmeStatus3=='Under Consideration' ) { %>
                                                        <% if (model.haveInterview3=='no' ) { %>
                                                            <!-- interview button -->
                                                            <button class="form-control" id="interviewBtn"
                                                                onclick="document.getElementById('interviewModal3').style.display='block'"><i
                                                                    class="fa fa-comments" aria-hidden="true"></i>
                                                                INTERVIEW</button>
                                                            <% } else { %>
                                                                <button class="form-control" disabled
                                                                    id="interviewContainer"><i class="fa fa-comments"
                                                                        aria-hidden="true"></i>
                                                                    INTERVIEW</button>
                                                                <% } %>
                                                                    <!-- confirm box -->
                                                                    <div id="interviewModal3" class="modal">
                                                                        <div class="modal-content">
                                                                            <div class="modal-container">
                                                                                <h1>Arrange an Interview?</h1>
                                                                                <h4 style="margin-bottom: 20px;">
                                                                                    (Application
                                                                                    No.:
                                                                                    <%= model.idCode%>)
                                                                                </h4>
                                                                                <p>Are you sure you want to have an
                                                                                    interview
                                                                                    with
                                                                                    the
                                                                                    candidate?</p>
                                                                                <div class="clearfix">
                                                                                    <button type="button"
                                                                                        class="cancelbtn modalBtn"
                                                                                        onclick="document.getElementById('interviewModal3').style.display='none'">
                                                                                        Cancel</button>
                                                                                    <button type="button"
                                                                                        class="arrangeInterviewbtn modalBtn"
                                                                                        onclick="interviewCandidate3('<%= model.id%>')">
                                                                                        Yes, have an interview</button>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                    <!-- end -->

                                                                    <!-- accept button -->
                                                                    <button class="form-control" id="approveBtn"
                                                                        onclick="document.getElementById('approveModal3').style.display='block'"><i
                                                                            class="fa fa-check" aria-hidden="true"></i>
                                                                        ACCEPT</button>

                                                                    <!-- confirm box -->
                                                                    <div id="approveModal3" class="modal">
                                                                        <div class="modal-content">
                                                                            <div class="modal-container">
                                                                                <!-- modal-header -->
                                                                                <h1>Approve Application?</h1>
                                                                                <h4 style="margin-bottom: 20px;">
                                                                                    (Application
                                                                                    No.:
                                                                                    <%= model.idCode%>)
                                                                                </h4>
                                                                                <!-- modal-body -->
                                                                                <p>Are you sure you want to accept this
                                                                                    application?
                                                                                </p>
                                                                                <div class="clearfix">
                                                                                    <button type="button"
                                                                                        class="cancelbtn modalBtn"
                                                                                        onclick="document.getElementById('approveModal3').style.display='none'">
                                                                                        Cancel</button>
                                                                                    <button type="button"
                                                                                        class="confirmbtn modalBtn"
                                                                                        onclick="acceptApplication3('<%= model.id%>')">Accept</button>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                    <!-- end -->

                                                                    <!-- reject button -->
                                                                    <button class="form-control" id="disapproveBtn"
                                                                        onclick="document.getElementById('disapproveModal3').style.display='block'"><i
                                                                            class="fa fa-times" aria-hidden="true"></i>
                                                                        REJECT</button>

                                                                    <!-- confirm box -->
                                                                    <div id="disapproveModal3" class="modal">
                                                                        <div class="modal-content">
                                                                            <div class="modal-container">
                                                                                <h1>Disapprove Application?</h1>
                                                                                <h4 style="margin-bottom: 20px;">
                                                                                    (Application
                                                                                    No.:
                                                                                    <%= model.idCode%>)
                                                                                </h4>
                                                                                <p>Are you sure you want to reject this
                                                                                    application?
                                                                                </p>
                                                                                <div class="clearfix">
                                                                                    <button type="button"
                                                                                        class="cancelbtn modalBtn"
                                                                                        onclick="document.getElementById('disapproveModal3').style.display='none'">
                                                                                        Cancel</button>
                                                                                    <button type="button"
                                                                                        class="deletebtn modalBtn"
                                                                                        onclick="rejectApplication3('<%= model.id%>')">
                                                                                        Reject</button>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                    <!-- end -->
                                                                    <% } %>


                                                                        <% if (model.programmeStatus3=='Offered' ||
                                                                            model.programmeStatus3=='Offer Accepted' ) {
                                                                            %>
                                                                            <div class="container"
                                                                                id="acceptedContainer"><span>
                                                                                    accepted
                                                                                </span></div>
                                                                            <% } %>

                                                                                <% if
                                                                                    (model.programmeStatus3=='Unsuccessful'
                                                                                    ) { %>
                                                                                    <div class="container"
                                                                                        id="rejectedContainer"><span>
                                                                                            rejected
                                                                                        </span></div>
                                                                                    <% } %>
                                                </td>
                                            </tr>
                                            <% } %>

                                                <% }); %>
                </table>
            </div>
        </div>
    </div>
</div>

<script>
    document.getElementById('select-all').onclick = function () {
        var checkboxes = document.getElementsByName('select-applications');
        for (var checkbox of checkboxes) {
            checkbox.checked = this.checked;
        }
        showContent();
    }
</script>

<script>
    async function disapproveApplication(id) {

        var response = await fetch("/applications/disapprove/" + id, {
            method: "POST",
            credentials: 'same-origin',
        });

        if (response.ok) {
            var data = await response.json();
            alert(data.message);
            location.reload();
        } else {
            alert(response.status + ": " + response.statusText);
        }
    };
</script>

<script>
    async function approveApplication(id) {

        var response = await fetch("/applications/approve/" + id, {
            method: "POST",
            credentials: 'same-origin',
        });
        if (response.ok) {
            var data = await response.json();
            alert(data.message);
            location.reload();
        } else {
            alert(response.status + ": " + response.statusText);
        }
    };
</script>

<script>
    async function scheduleInterview(id) {

        var response = await fetch("/applications/scheduleInterview/" + id, {
            method: "POST",
            credentials: 'same-origin',
        });
        if (response.ok) {
            var data = await response.json();
            alert(data.message);
            location.reload();
        } else {
            alert(response.status + ": " + response.statusText);
        }
    };
</script>

<script>
    function showContent() {

        var checkboxs = document.getElementsByName("select-applications");
        var visibility = "none";
        for (var i = 0; i < checkboxs.length; i++) {
            if (checkboxs[i].checked) {
                visibility = "block";
                break;
            }
        }
        document.getElementById("sendEmail").style.display = visibility;
        document.getElementById("scheduleInterview").style.display = visibility;
    }
</script>