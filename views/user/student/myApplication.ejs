<!-- Required meta tags -->
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

<!-- Bootstrap CSS -->
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
    integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

<style type="text/css">
    .main-nav-ul ul {
        display: none;
    }

    .main-nav-ul li:hover ul {
        display: block;
    }

    .sub-arrow:after {
        content: '\203A';
        float: right;
        margin-right: 20px;
    }

    body {
        background: #e0ded6;
        font-family: "Helvetica Neue", Helvetica, Arial;
        padding-top: 20px;
    }

    table,
    th {
        border: 2px solid;
        border-collapse: collapse;
        border-color: #D1DDDD;
    }

    th,
    td {
        padding-top: 8px;
    }

    th {
        background-color: #D1DDDD
    }

    ul {
        list-style-type: none;
        margin: 0;
        padding: 0;
        width: 250px;
        background-color: #f1f1f1;
    }

    li a {
        display: block;
        color: #000;
        padding: 8px 16px;
        text-decoration: none;
    }

    li a.active {
        background-color: #8AA0AB;
        color: white;
    }

    li a:hover:not(.active) {
        background-color: rgb(218, 218, 218);
        color: #000;
    }

    #redirect-link:hover {
        text-decoration: none !important;
    }

    #redirect-link {
        text-decoration: underline;
    }

    #editBtn {
        height: 30px;
        padding-top: 2px;
        padding-bottom: 2px;
        margin-top: 0px;
        margin-bottom: 5px;
        background-color: #7E9690;
        color: white;
        border-color: #7E9690;
        /* width: 60px; */
    }

    #uploadBtn {
        height: 30px;
        padding: 2px 5px;
        margin-bottom: 5px;
        margin-top: 0px;
        background-color: #7E9690;
        color: white;
        font-size: 15px;
        border-color: #7E9690;
        width: 210px;
    }

    #viewBtn {
        height: 30px;
        padding: 2px 8px;
        margin-bottom: 5px;
        background-color: #7E9690;
        color: white;
        font-size: 15px;
        border-color: #7E9690;
    }

    #editBtn:hover {
        background-color: #748A84;
        color: white;
        border-color: #748A84;
        /* width: 60px; */
    }

    #applyBtn {
        height: 30px;
        padding-top: 2px;
        padding-bottom: 2px;
        margin-top: 0px;
        margin-bottom: 5px;
        background-color: #A39F92;
        color: white;
        border-color: #A39F92;
        /* border-color: #A8A497; */
        /* width: 60px; */
    }

    #applyBtn:hover {
        background-color: #999589;
        color: white;
        border-color: #999589;
        /* width: 60px; */
    }

    #statusContainer {
        padding: 6px 13px;
        text-align: center;
        display: inline;
        margin-bottom: 0px;
        border-radius: 20px;
        background-color: #cfc9be;
        color: #52504d;
        font-weight: 500;
        opacity: 0.9;
        text-shadow:
            0px 0px 3px rgba(255, 255, 255, 0.3),
            0px 0px 0px rgba(8, 8, 8, 0);
    }

    #approvedContainer {
        padding: 6px 13px;
        text-align: center;
        display: inline;
        margin-bottom: 0px;
        border-radius: 20px;
        background-color: #bac9be;
        color: #3a4240;
        font-weight: 500;
        opacity: 0.8;
        text-shadow:
            0px 0px 3px rgba(255, 255, 255, 0.3),
            0px 0px 0px rgba(8, 8, 8, 0);
    }

    #redirect-button {
        display: inline;
        width: 130px;
        height: 20px;
        border: 0px;
        margin-left: 0px;
        margin-bottom: 0px;
        padding-left: 0px;
        background-color: transparent;
        outline: none !important;
        box-shadow: none !important;
    }
</style>

<div class="container" style="width: 1140px; position: static; text-align:right;">
    <% if (req.session.role !=undefined) {%>

        <a href="/user/logout" class="item" style="color: black;">(Logout)</a>

        <%}%>
</div>

<div class="container" style="width: 1140px;  justify-content: center; 
    margin: 0 auto;  padding: 30px 15px 25px; background: #fff;
    border-radius: 0px; position: static;">
    <article class="page">
        <div style="display: flex;">

            <nav class="main-nav">
                <ul class="main-nav-ul">
                    <li class="menu-left_item lv1"><a href="/user/student/myInbox"><span class="sub-arrow">My
                                Inbox</span></a></li>

                    <li class="menu-left_item lv1"><a class="active" href="/user/student/myApplication">My
                            Application<span class="sub-arrow"></span></a>
                    </li>
                    <li class="menu-left_item lv1"><a href="/user/student/applicationStatus"><span
                                class="sub-arrow">Application Status</span></a>
                    </li>
                    <li class="menu-left_item lv1"><a href="/user/student/myProfile"><span class="sub-arrow">My
                                Profile</span></a>
                    </li>
                </ul>
            </nav>

            <div class="main-content" style="margin-left: 40px">
                <h3 style="color: #333333;
            font-size: 24px;
            font-weight: bold;
            margin-bottom: 5px;">My Application</h3>

                <table style="color: #333333; margin-top: 15px;">
                    <form action="/re-direct/link/clicked" method="POST">
                        <% if (req.session.status == 'new' || req.session.status == 'In progress' ) { %>
                            <tr>
                                <th style="text-align: left; width: 600px; padding-left: 12px;">Applications</th>
                                <th style="text-align: center; width: 200px">Status</th>
                                <th style="text-align: center; width: 200px">Actions</th>
                            </tr>
                            <% } else { %>
                                <tr>
                                    <th style="text-align: left; width: 500px; padding-left: 12px;">Applications</th>
                                    <th style="text-align: center; width: 350px">Status</th>
                                    <th style="text-align: left; width: 250px">Actions</th>
                                </tr>
                                <% } %>
                                    <tr>
                                        <td style="text-align: left; padding-left: 12px;"><button type="submit"
                                                id="redirect-button"><a id="redirect-link" style="color: #333333;">2021
                                                    Admission</a></button></td>
                                        <td style="text-align: center">
                                            <% if (req.session.status=='new' ) { %>
                                                <div class="container" id="statusContainer"><span>
                                                        <%= req.session.status %>
                                                    </span></div>
                                                <% } else { %>
                                                    <div class="container" id="approvedContainer"><span>
                                                            <%= req.session.status %>
                                                        </span></div>
                                                    <% } %>
                                        </td>

                                        <% if (req.session.status=='new' ) {%>
                                            <td style="text-align: center">
                                                <button id="applyBtn" type="submit" class="btn btn-primary"
                                                    onclick="location.href='/forms/personalParticulars'">Apply
                                                    Now</button>
                                            </td>
                                            <% } else if (req.session.status=='In progress' ) { %>
                                                <td style="text-align: center">
                                                    <button id="editBtn" class="btn btn-primary"
                                                        onclick="location.href='/forms/personalParticulars'">Edit</button>
                                                </td>
                                                <% } else if (req.session.status=='submitted' ||
                                                    req.session.status=='approved' || req.session.status=='disapproved'
                                                    ) { %>
                                                    <td style="text-align: left">
                                                        <button type="button" id="viewBtn" class="btn btn-primary"
                                                            onclick="location.href='/forms/personalParticulars'">View
                                                            application</button>
                                                    </td>
                                                    <% } %>

                                    </tr>
                                    <% if (req.session.status=='submitted') { %>
                                        <tr>
                                            <td style="padding-top: 0px;"></td>
                                            <td style="padding-top: 0px;"></td>
                                            <td style="text-align: left; padding-top: 3px;">
                                                <button type="button" id="uploadBtn" class="btn btn-primary"
                                                    onclick="location.href='/user/student/upload/document'">Upload
                                                    supporting
                                                    document</button>
                                            </td>
                                        </tr>
                                        <% } %>
                    </form>
                </table>

            </div>
        </div>

    </article>
</div>